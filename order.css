:root{
  /* typography */
  --font: system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif;
  /* neutrals */
  --bg: #ffffff;
  --ink: #2c2522;
  --ink-2:#6a5d57;
  --panel:#ffffff;
  --shadow: 0 10px 24px rgba(0,0,0,.08);
  /* brand */
  --accent:#d65a00;
  --accent-2:#b94d00;
  /* seasonal palettes (light only) */
  --summer-a:#fff7ec; --summer-b:#fff1df;
  --spring-a:#f8fff5; --spring-b:#ecfff4;
  /* dark mode */
  --bg-dark:#101010; --panel-dark:#1a1a1a; --ink-dark:#f5f5f5; --ink-2-dark:#c7c7c7;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:var(--font); background:var(--bg); color:var(--ink);
}

/* THEMES */
body.theme-dark{ background:var(--bg-dark); color:var(--ink-dark); }
body.theme-dark .panel{ background:var(--panel-dark); color:var(--ink-dark); }
body.theme-dark .topbar{ background: #111; border-color:#222; }
body.theme-dark table, body.theme-dark th, body.theme-dark td{ border-color:#333; }
body.theme-dark .btn.primary{ background:var(--accent); color:#fff; }
body.theme-dark .btn.ghost{ border-color:#444; color:var(--ink-dark); }

/* LIGHT seasonal palettes (background tint only) */
body.theme-light.palette-summer{ background: linear-gradient(180deg,var(--summer-a),var(--summer-b)); }
body.theme-light.palette-spring{ background: linear-gradient(180deg,var(--spring-a),var(--spring-b)); }

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; gap:.75rem;
  padding: .85rem 1rem; border-bottom:1px solid #eee; background:#fff;
}
.theme-dark .topbar h1{ color:var(--ink-dark); }
.topbar h1{ font-size:1.15rem; margin:0; }
.topbar .back{ text-decoration:none; color:inherit; font-weight:600; }
.topbar .spacer{ flex:1 }

/* Layout */
.layout{
  display:grid; grid-template-columns: 1.4fr .9fr; gap:1.25rem;
  max-width:1160px; margin:1rem auto; padding:0 1rem;
}
@media (max-width:960px){ .layout{ grid-template-columns:1fr; } }

/* Panels */
.panel{
  background:var(--panel); border-radius:14px; box-shadow:var(--shadow);
  padding:1rem 1rem 1.25rem;
}

/* Carousel */
.products h2,.cart h2{ margin:.25rem 0 1rem 0 }
.carousel{ position:relative; display:flex; align-items:center; gap:.5rem; }
.carousel .nav{
  border:none; width:44px; height:44px; border-radius:50%;
  background:#00000010; cursor:pointer; font-size:1.25rem;
}
.theme-dark .carousel .nav{ background:#ffffff12; color:#fff; }
.carousel .track{
  list-style:none; display:grid; grid-auto-flow:column; gap:.75rem;
  overflow:hidden; scroll-behavior:smooth; padding:0; margin:0; width:100%;
}
.slide{
  width:210px; min-height:280px; background:#fff; border-radius:12px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; justify-content:space-between; overflow:hidden;
}
.theme-dark .slide{ background:#222; }
.slide .imgWrap{
  aspect-ratio: 1 / 1; display:grid; place-items:center; background:#00000006;
  cursor:pointer;
}
.slide img{ max-width:100%; max-height:100%; object-fit:contain; }
.slide .meta{ padding:.75rem; display:grid; gap:.35rem; }
.slide .name{ font-weight:600; }
.slide .price{ color:var(--ink-2); }
.slide .qtyRow{ display:flex; gap:.5rem; }
.slide .qtyRow button{ flex:1; }

/* Buttons */
.btn{ border:none; background:#f1f1f1; padding:.6rem .8rem; border-radius:10px; cursor:pointer; font-weight:600; }
.btn.primary{ background:var(--accent); color:#fff; }
.btn.primary:hover{ background:var(--accent-2); }
.btn.ghost{ background:transparent; border:1px solid #ddd; }

/* Cart */
.cart-table{ width:100%; border-collapse:collapse; margin-top:.25rem; }
.cart-table th, .cart-table td{ border-bottom:1px solid #eee; padding:.5rem .4rem; text-align:left; }
.cart-table th.qty,.cart-table td.qty{ width:56px; text-align:center; }
.cart-table th.price,.cart-table th.line,.cart-table td.price,.cart-table td.line{ text-align:right; width:88px; }
.cart-table td .rowBtns{ display:flex; gap:.35rem; justify-content:flex-end; }
.totals{ display:grid; gap:.35rem; margin:1rem 0 .5rem; }
.totals .grand{ border-top:2px dashed #ddd; padding-top:.5rem; font-size:1.1rem; }

/* Modal */
.modal{ width:min(920px,96vw); border:none; border-radius:14px; padding:0; }
.modal::backdrop{ background:rgba(0,0,0,.45); }
.modal .form, .modal .mapWrap{ padding:1rem; }
.modal .form label{ display:grid; gap:.35rem; margin:.5rem 0; }
.modal input, .modal textarea{
  border:1px solid #ddd; background:#fff; color:inherit; border-radius:10px; padding:.6rem .7rem;
}
.theme-dark .modal input, .theme-dark .modal textarea{ background:#111; border-color:#333; }
.modal iframe{ width:100%; height:360px; border:0; border-radius:10px; }
.modal .actions{ display:flex; justify-content:flex-end; gap:.5rem; margin-top:.75rem; }

/* FABS */
.fabs{ position:fixed; right:14px; bottom:14px; display:flex; flex-direction:column; gap:.6rem; z-index:4; }
.fab{
  width:48px; height:48px; border:none; border-radius:50%; background:#00000012; cursor:pointer; font-weight:700;
}
.theme-dark .fab{ background:#ffffff16; color:#fff; }

/* Helpers */
.carousel-hint{ margin-top:.5rem; color:var(--ink-2); font-size:.92rem; }
.hidden{ display:none !important; }
